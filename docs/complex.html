<!DOCTYPE html>  <html> <head>   <title>complex.js</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" />   <script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: {inlineMath: [['$','$']]} });</script>   <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML-full"></script> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="audio.html">                 audio.js               </a>                                           <a class="source" href="complex.html">                 complex.js               </a>                                           <a class="source" href="filter.html">                 filter.js               </a>                                           <a class="source" href="main.html">                 main.js               </a>                                           <a class="source" href="presets.html">                 presets.js               </a>                                           <a class="source" href="ui-audio.html">                 ui-audio.js               </a>                                           <a class="source" href="ui-displays.html">                 ui-displays.js               </a>                                           <a class="source" href="ui-presets.html">                 ui-presets.js               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               complex.js             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <p>This module defines a constructor for complex number objects. It is by no means a complete class, 
as it lacks many operations you would expect to be able to perform  with complex numbers. It 
simply covers the needs of this particular application.</p>

<p>Binary operations (e.g. addition, multiplication, etc) are added directly to the <code>Complex</code> 
constructor object as static methods that accept two complex number parameters, instead of being 
methods of the complex number object prototype. For example,  adding two complex numbers is done 
with <code>Complex.add(z, w)</code> instead of <code>z.add(w)</code>.</p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre>
<span class="nx">define</span><span class="p">(</span>
    <span class="p">[</span><span class="s1">&#39;underscore&#39;</span><span class="p">],</span> 
    <span class="kd">function</span><span class="p">(</span><span class="nx">_</span><span class="p">)</span> <span class="p">{</span>

</pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>Constructor.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="kd">function</span> <span class="nx">Complex</span><span class="p">(</span><span class="nx">real</span><span class="p">,</span> <span class="nx">imaginary</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">imaginary</span> <span class="o">===</span> <span class="kc">undefined</span><span class="p">)</span> <span class="nx">imaginary</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">_</span><span class="p">.</span><span class="nx">isNumber</span><span class="p">(</span><span class="nx">real</span><span class="p">)</span> <span class="o">||</span> <span class="o">!</span><span class="nx">_</span><span class="p">.</span><span class="nx">isNumber</span><span class="p">(</span><span class="nx">imaginary</span><span class="p">))</span> <span class="k">throw</span> <span class="k">new</span> <span class="nx">TypeError</span><span class="p">();</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">real</span> <span class="o">=</span> <span class="nx">real</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">imaginary</span> <span class="o">=</span> <span class="nx">imaginary</span><span class="p">;</span>
    <span class="p">}</span>

</pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <p>This method returns <code>true</code> only if the complex number is real. Since we are dealing 
with limited precision floating point operations we do not test if the imaginary
part is exactly equal to zero, but we test if it's within some small distance 
$\varepsilon$ to zero.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">Complex</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">isReal</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">imaginary</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nx">Complex</span><span class="p">.</span><span class="nx">EPSILON</span><span class="p">;</span>
    <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p>Returns the <em>modulus</em>, or <em>absolute value</em>, which for a complex number $z = a + bi$ is
defined as $$|z| = \sqrt{a^2 + b^2}$$</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">Complex</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">modulus</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">modulusSquared</span><span class="p">());</span>
    <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p>Returns the modulus squared, which for a complex number $z = a + bi$ is
equal to $$|z|^2 = a^2 + b^2$$</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">Complex</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">modulusSquared</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">real</span> <span class="o">*</span> <span class="k">this</span><span class="p">.</span><span class="nx">real</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">imaginary</span> <span class="o">*</span> <span class="k">this</span><span class="p">.</span><span class="nx">imaginary</span><span class="p">;</span>
    <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>Returns the <em>argument</em> or <em>phase</em>, which for a complex number $z = a + bi$ is defined as
$$\angle z = \operatorname{atan2}(b, a)$$</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">Complex</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">argument</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">atan2</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">imaginary</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">real</span><span class="p">);</span>
    <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <p>Returns the complex conjugate, which for a complex number $z = a + bi$ is defined as
$$\bar{z} = a - bi$$</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">Complex</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">conjugate</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nx">Complex</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">real</span><span class="p">,</span> <span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">imaginary</span><span class="p">);</span>
    <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <p>Returns the multiplicative inverse, which for a complex number $z = a + bi$ is equal
to $$\frac{1}{z} = \frac{\bar{z}}{z\bar{z}} = \frac{a - bi}{a^2 + b^2}$$</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">Complex</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">reciprocal</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">modulusSquared</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">real</span> <span class="o">*</span> <span class="k">this</span><span class="p">.</span><span class="nx">real</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">imaginary</span> <span class="o">*</span> <span class="k">this</span><span class="p">.</span><span class="nx">imaginary</span><span class="p">;</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nx">Complex</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">real</span> <span class="o">/</span> <span class="nx">modulusSquared</span><span class="p">,</span> <span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">imaginary</span> <span class="o">/</span> <span class="nx">modulusSquared</span><span class="p">);</span>
    <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-10">&#182;</a>               </div>               <p>Returns the additive inverse, which for a complex number $z = a + bi$ is equal to
$$-z = -a -bi$$</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">Complex</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">negation</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nx">Complex</span><span class="p">(</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">real</span><span class="p">,</span> <span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">imaginary</span><span class="p">);</span>
    <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-11">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-11">&#182;</a>               </div>               <p>Scales the complex number by a real factor such that its modulus equals <code>x</code>.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">Complex</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">scaleModulusTo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">scaleFactor</span> <span class="o">=</span> <span class="nx">x</span> <span class="o">/</span> <span class="k">this</span><span class="p">.</span><span class="nx">modulus</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">real</span> <span class="o">*=</span> <span class="nx">scaleFactor</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">imaginary</span> <span class="o">*=</span> <span class="nx">scaleFactor</span><span class="p">;</span>
    <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-12">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-12">&#182;</a>               </div>               <p>Takes the <code>n</code>th-root.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">Complex</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">root</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">modulus</span><span class="p">(),</span> <span class="mi">1</span><span class="o">/</span><span class="nx">n</span><span class="p">);</span>
        <span class="kd">var</span> <span class="nx">phi</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">argument</span><span class="p">()</span> <span class="o">/</span> <span class="nx">n</span><span class="p">;</span>
        <span class="k">return</span> <span class="nx">Complex</span><span class="p">.</span><span class="nx">fromPolar</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span> <span class="nx">phi</span><span class="p">);</span>
    <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-13">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-13">&#182;</a>               </div>               <p>Returns a string describing the complex number in $a + bi$ form.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">Complex</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isReal</span><span class="p">())</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">real</span><span class="p">;</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">real</span> <span class="o">+</span> <span class="s2">&quot; + &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">imaginary</span> <span class="o">+</span> <span class="s2">&quot;i&quot;</span><span class="p">;</span>
    <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-14">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-14">&#182;</a>               </div>               <p>Returns a new complex number from a combination of modulus <code>r</code> and argument <code>phi</code>.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">Complex</span><span class="p">.</span><span class="nx">fromPolar</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span> <span class="nx">phi</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nx">Complex</span><span class="p">(</span><span class="nx">r</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">phi</span><span class="p">),</span> <span class="nx">r</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">phi</span><span class="p">));</span>
    <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-15">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-15">&#182;</a>               </div>               <p>Adds two complex numbers <code>lhs</code> and <code>rhs</code> and returns the result.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">Complex</span><span class="p">.</span><span class="nx">add</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">lhs</span><span class="p">,</span> <span class="nx">rhs</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nx">Complex</span><span class="p">(</span><span class="nx">lhs</span><span class="p">.</span><span class="nx">real</span> <span class="o">+</span> <span class="nx">rhs</span><span class="p">.</span><span class="nx">real</span><span class="p">,</span> <span class="nx">lhs</span><span class="p">.</span><span class="nx">imaginary</span> <span class="o">+</span> <span class="nx">rhs</span><span class="p">.</span><span class="nx">imaginary</span><span class="p">);</span>
    <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-16">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-16">&#182;</a>               </div>               <p>Subtracts the complex numbers <code>rhs</code> from the complex number <code>lhs</code> and returns the result.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">Complex</span><span class="p">.</span><span class="nx">subtract</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">lhs</span><span class="p">,</span> <span class="nx">rhs</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nx">Complex</span><span class="p">(</span><span class="nx">lhs</span><span class="p">.</span><span class="nx">real</span> <span class="o">-</span> <span class="nx">rhs</span><span class="p">.</span><span class="nx">real</span><span class="p">,</span> <span class="nx">lhs</span><span class="p">.</span><span class="nx">imaginary</span> <span class="o">-</span> <span class="nx">rhs</span><span class="p">.</span><span class="nx">imaginary</span><span class="p">);</span>
    <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-17">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-17">&#182;</a>               </div>               <p>Multiplies two complex numbers <code>lhs</code> and <code>rhs</code> and returns the result.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">Complex</span><span class="p">.</span><span class="nx">multiply</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">lhs</span><span class="p">,</span> <span class="nx">rhs</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">real</span> <span class="o">=</span> <span class="nx">lhs</span><span class="p">.</span><span class="nx">real</span> <span class="o">*</span> <span class="nx">rhs</span><span class="p">.</span><span class="nx">real</span> <span class="o">-</span> <span class="nx">lhs</span><span class="p">.</span><span class="nx">imaginary</span> <span class="o">*</span> <span class="nx">rhs</span><span class="p">.</span><span class="nx">imaginary</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">imaginary</span> <span class="o">=</span> <span class="nx">lhs</span><span class="p">.</span><span class="nx">real</span> <span class="o">*</span> <span class="nx">rhs</span><span class="p">.</span><span class="nx">imaginary</span> <span class="o">+</span> <span class="nx">lhs</span><span class="p">.</span><span class="nx">imaginary</span> <span class="o">*</span> <span class="nx">rhs</span><span class="p">.</span><span class="nx">real</span><span class="p">;</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nx">Complex</span><span class="p">(</span><span class="nx">real</span><span class="p">,</span> <span class="nx">imaginary</span><span class="p">);</span>
    <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-18">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-18">&#182;</a>               </div>               <p>Divides two complex number <code>lhs</code> by the complex number <code>rhs</code> and returns the result.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">Complex</span><span class="p">.</span><span class="nx">divide</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">lhs</span><span class="p">,</span> <span class="nx">rhs</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">modulusSquared</span> <span class="o">=</span> <span class="nx">rhs</span><span class="p">.</span><span class="nx">real</span> <span class="o">*</span> <span class="nx">rhs</span><span class="p">.</span><span class="nx">real</span> <span class="o">+</span> <span class="nx">rhs</span><span class="p">.</span><span class="nx">imaginary</span> <span class="o">*</span> <span class="nx">rhs</span><span class="p">.</span><span class="nx">imaginary</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">real</span> <span class="o">=</span> <span class="nx">lhs</span><span class="p">.</span><span class="nx">real</span> <span class="o">*</span> <span class="nx">rhs</span><span class="p">.</span><span class="nx">real</span> <span class="o">+</span> <span class="nx">lhs</span><span class="p">.</span><span class="nx">imaginary</span> <span class="o">*</span> <span class="nx">rhs</span><span class="p">.</span><span class="nx">imaginary</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">imaginary</span> <span class="o">=</span> <span class="nx">lhs</span><span class="p">.</span><span class="nx">imaginary</span> <span class="o">*</span> <span class="nx">rhs</span><span class="p">.</span><span class="nx">real</span> <span class="o">-</span> <span class="nx">lhs</span><span class="p">.</span><span class="nx">real</span> <span class="o">*</span> <span class="nx">rhs</span><span class="p">.</span><span class="nx">imaginary</span><span class="p">;</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nx">Complex</span><span class="p">(</span><span class="nx">real</span> <span class="o">/</span> <span class="nx">modulusSquared</span><span class="p">,</span> <span class="nx">imaginary</span> <span class="o">/</span> <span class="nx">modulusSquared</span><span class="p">);</span>
    <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-19">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-19">&#182;</a>               </div>               <p>Returns the complex exponential $exp($<code>z</code>$)$.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">Complex</span><span class="p">.</span><span class="nx">exp</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">z</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">realPart</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Complex</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">exp</span><span class="p">(</span><span class="nx">z</span><span class="p">.</span><span class="nx">real</span><span class="p">));</span>
        <span class="kd">var</span> <span class="nx">imaginaryPart</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Complex</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">z</span><span class="p">.</span><span class="nx">imaginary</span><span class="p">),</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">z</span><span class="p">.</span><span class="nx">imaginary</span><span class="p">));</span>
        <span class="k">return</span> <span class="nx">Complex</span><span class="p">.</span><span class="nx">multiply</span><span class="p">(</span><span class="nx">realPart</span><span class="p">,</span> <span class="nx">imaginaryPart</span><span class="p">);</span>
    <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-20">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-20">&#182;</a>               </div>               <p>Returns <code>true</code> if the complex numbers <code>lhs</code> and <code>rhs</code> are equal up to a small number
$\varepsilon$.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">Complex</span><span class="p">.</span><span class="nx">areEqual</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">lhs</span><span class="p">,</span> <span class="nx">rhs</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">lhs</span> <span class="o">===</span> <span class="nx">rhs</span><span class="p">)</span> <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">lhs</span> <span class="o">===</span> <span class="kc">null</span> <span class="o">||</span> <span class="nx">rhs</span> <span class="o">===</span> <span class="kc">null</span> <span class="o">||</span> <span class="nx">lhs</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="o">||</span> <span class="nx">rhs</span> <span class="o">===</span> <span class="kc">undefined</span><span class="p">)</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
        <span class="k">return</span> <span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">lhs</span><span class="p">.</span><span class="nx">real</span>      <span class="o">-</span> <span class="nx">rhs</span><span class="p">.</span><span class="nx">real</span><span class="p">)</span>      <span class="o">&lt;</span> <span class="nx">Complex</span><span class="p">.</span><span class="nx">EPSILON</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
               <span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">lhs</span><span class="p">.</span><span class="nx">imaginary</span> <span class="o">-</span> <span class="nx">rhs</span><span class="p">.</span><span class="nx">imaginary</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nx">Complex</span><span class="p">.</span><span class="nx">EPSILON</span><span class="p">);</span>
    <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-21">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-21">&#182;</a>               </div>               <p>The small $\varepsilon$-value used for equality testing.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">Complex</span><span class="p">.</span><span class="nx">EPSILON</span> <span class="o">=</span> <span class="mi">1</span><span class="nx">e</span><span class="o">-</span><span class="mi">10</span><span class="p">;</span>

    <span class="k">return</span> <span class="nx">Complex</span><span class="p">;</span>
<span class="p">});</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 